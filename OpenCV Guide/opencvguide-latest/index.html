

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OpenCV Guide documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html#document-index" class="icon icon-home"> OpenCV Guide
          

          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-opencvpython/basics">1. OpenCV with Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#opencv-basics">1.1. OpenCV Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#introduction">1.1.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#load-image">1.1.2. Load image</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#load-video">1.1.3. Load Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#basic-operations-on-images">1.1.4. Basic operations on images</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#geometric-transformations">1.1.5. Geometric Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#drawing">1.1.6. Drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#bitwise-operation">1.1.7. Bitwise operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#masking">1.1.8. Masking</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#edge-detection">1.1.9. Edge detection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-opencvcpp/basics">2. OpenCV with C++</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#opencv-basics">2.1. OpenCV Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#introduction">2.1.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#load-image">2.1.2. Load image</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#load-video">2.1.3. Load Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#basic-operations-on-images">2.1.4. Basic operations on images</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#geometric-transformations">2.1.5. Geometric Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#drawing">2.1.6. Drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#bitwise-operation">2.1.7. Bitwise operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#masking">2.1.8. Masking</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#edge-detection">2.1.9. Edge detection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-opencvpetalinux/basics">3. OpenCV with petalinux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#opencv-basics">3.1. OpenCV Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#create-petalinux-project">3.1.1. Create Petalinux project</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#write-opencv-code">3.1.2. Write OpenCV code</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#run-the-desing-on-fpga">3.1.3. Run the desing on FPGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#drawing">3.1.4. Drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#sobel-and-canny-edge-detection">3.1.5. Sobel and Canny Edge detection</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html#document-index">OpenCV Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html#document-index">Docs</a> &raquo;</li>
        
      <li>OpenCV Guide  documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://bitbucket.org/pythondsp/opencv/src/master/opencv/source/index.rst?mode=view" class="fa fa-bitbucket"> Edit on Bitbucket</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="opencv-guide">
<h1>OpenCV Guide<a class="headerlink" href="#opencv-guide" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-opencvpython/basics"></span><div class="section" id="opencv-with-python">
<h2>OpenCV with Python<a class="headerlink" href="#opencv-with-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opencv-basics">
<h3>OpenCV Basics<a class="headerlink" href="#opencv-basics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>OpenCV-3 is used in this tutorial which can be installed using below command,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install opencv-python<span class="o">==</span><span class="m">3</span>.4.5.20
</pre></div>
</div>
</div>
<div class="section" id="load-image">
<h4>Load image<a class="headerlink" href="#load-image" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>See comments for details,</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># load_save_image.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>

<span class="c1"># show image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># Window name -&gt; Shapes</span>

<span class="c1"># wait for key before closing the window</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># save image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;images/saved_by_opencv.jpg&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Run the code</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ python load_save_image.py
</pre></div>
</div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-py1"><span class="std std-numref">Fig. 1.1</span></a>,</li>
</ul>
<div class="figure" id="id1">
<span id="fig-py1"></span><a class="reference internal image-reference" href="_images/Screenshot_16.jpg"><img alt="_images/Screenshot_16.jpg" src="_images/Screenshot_16.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Shapes</span></p>
</div>
</div>
<div class="section" id="load-video">
<h4>Load Video<a class="headerlink" href="#load-video" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>cv2.VideoCapture(0) is use to show the video which is captured by webcam,</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># load_video.py</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># load video</span>
<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="s2">&quot;images/timer.mp4&quot;</span><span class="p">)</span>

<span class="k">while</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
    <span class="c1"># Capture frame-by-frame</span>
    <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">cap</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="c1"># Display the resulting frame</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">):</span> <span class="c1"># press q to exit</span>
        <span class="k">break</span>

<span class="c1"># When everything done, release the capture</span>
<span class="n">cap</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ python load_video.py
</pre></div>
</div>
</div>
<div class="section" id="basic-operations-on-images">
<h4>Basic operations on images<a class="headerlink" href="#basic-operations-on-images" title="Permalink to this headline">¶</a></h4>
<div class="section" id="accessing-and-modifying-pixel">
<h5>Accessing and modifying pixel<a class="headerlink" href="#accessing-and-modifying-pixel" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>In images, the pixel coordinates starts from (0, 0).</li>
<li>[B, G, R] format is used in OpenCV.</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># access_modify_pixel.py</span>


<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>


<span class="c1"># pixel at point [10, 10] = white i.e. 255, 255, 255</span>
<span class="n">px</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;original pixel: &quot;</span><span class="p">,</span> <span class="n">px</span><span class="p">)</span> <span class="c1"># [255 255 255]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>


<span class="c1"># modify pixel to red : a dot can be seen in the image</span>
<span class="n">img</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
<span class="n">px</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Modified pixel: &quot;</span><span class="p">,</span> <span class="n">px</span><span class="p">)</span> <span class="c1"># [255 0 0]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Red dot at (10 10)&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>


<span class="c1"># access the shape of the image</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;height=</span><span class="si">{}</span><span class="s2">, width=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">w</span><span class="p">))</span> <span class="c1"># height=360, width=640</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image size = &quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="c1"># size of image = h*w*3 = 691200</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-py2"><span class="std std-numref">Fig. 1.2</span></a>,</li>
</ul>
<div class="figure" id="id2">
<span id="fig-py2"></span><a class="reference internal image-reference" href="_images/Screenshot_21.jpg"><img alt="_images/Screenshot_21.jpg" src="_images/Screenshot_21.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Red dot at (10 10)</span></p>
</div>
</div>
<div class="section" id="split-and-merge">
<h5>Split and Merge<a class="headerlink" href="#split-and-merge" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>In this section, the color image is split and plotted into R, G and B color. Also, these R, G and B are merged together to get the original image.</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># split_merge.py</span>

<span class="c1"># square is of red color: R = 255 (i.e. white), B &amp; G = 0 (i.e. black)</span>

<span class="c1"># circle is of yellow color: R &amp; G = 255 (i.e. white), B = 0 (i.e. black)</span>

<span class="c1"># triangle is purple: a mix of R &amp; B with different ratio; therefore a different</span>
<span class="c1"># gray-shades for R and B (more of blue therefore lighter-gray shade) will be shown;</span>
<span class="c1"># whereas G = 0 (i.e. black)</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>

<span class="c1"># split image into BGR</span>
<span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="c1"># show B, G, R channels</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Blue&quot;</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Green&quot;</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Red&quot;</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>

<span class="n">merge_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="n">B</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Merged BGR&quot;</span><span class="p">,</span> <span class="n">merge_img</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-py3"><span class="std std-numref">Fig. 1.3</span></a>,</li>
</ul>
<div class="figure" id="id3">
<span id="fig-py3"></span><a class="reference internal image-reference" href="_images/Screenshot_31.jpg"><img alt="_images/Screenshot_31.jpg" src="_images/Screenshot_31.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Split and merge</span></p>
</div>
</div>
<div class="section" id="crop-image">
<h5>Crop image<a class="headerlink" href="#crop-image" title="Permalink to this headline">¶</a></h5>
<p>In this section, we will crop the image in 4 equal part and change the color of 2 parts.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># crop_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># Shape = (width, height, channel);  channel = 3 i.e. B, G, R</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image shape: &quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># Image shape:  (360, 640, 3)</span>


<span class="c1"># extract height and width i.e. first two values (360, 640)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Heigth = </span><span class="si">{}</span><span class="s2">, Width = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span> <span class="c1"># Heigth = 360, Width = 640</span>

<span class="c1">#### Pixel values</span>
<span class="c1"># print pixel value (B, G, R) at [0, 0]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(B G R) = &quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># (B G R) =  [255 255 255] i.e. white</span>
<span class="c1"># print pixel value (B, G, R) at [40, 310]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(B G R) = &quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">310</span><span class="p">])</span> <span class="c1"># (B G R) =  [  0   0 254] i.e. red</span>


<span class="c1">### Crop image</span>

<span class="c1"># center point of image</span>
<span class="c1"># note that we will use the cX and cY as pixel location</span>
<span class="c1"># therefore these need to be an integer value, hence // is used</span>
<span class="p">(</span><span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># top left i.e. 0-to-cY and 0-to-cX</span>
<span class="n">top_left</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">cY</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">cX</span><span class="p">]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Top Left&quot;</span><span class="p">,</span> <span class="n">top_left</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="n">top_right</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">cY</span><span class="p">,</span> <span class="n">cX</span><span class="p">:</span><span class="n">w</span><span class="p">]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Top Right&quot;</span><span class="p">,</span> <span class="n">top_right</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="n">bottom_left</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="n">cY</span><span class="p">:</span><span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">cX</span><span class="p">]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Bottom Left&quot;</span><span class="p">,</span> <span class="n">bottom_left</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="n">bottom_right</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="n">cY</span><span class="p">:</span><span class="n">h</span><span class="p">,</span> <span class="n">cX</span><span class="p">:</span><span class="n">w</span><span class="p">]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Bottom Right&quot;</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="c1">### change color for cropped sections</span>
<span class="n">img</span><span class="p">[</span><span class="n">cY</span><span class="p">:</span><span class="n">h</span><span class="p">,</span> <span class="n">cX</span><span class="p">:</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># bottom right to Blue color</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Bottom Right&quot;</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># Green + Red = Yellow</span>
<span class="n">img</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">cY</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">cX</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">]</span> <span class="c1"># Yellow color for top-left</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Top Left&quot;</span><span class="p">,</span> <span class="n">top_left</span><span class="p">)</span> <span class="c1"># display image</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-py4"><span class="std std-numref">Fig. 1.4</span></a>,</li>
</ul>
<div class="figure" id="id4">
<span id="fig-py4"></span><a class="reference internal image-reference" href="_images/Screenshot_41.jpg"><img alt="_images/Screenshot_41.jpg" src="_images/Screenshot_41.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Crop image</span></p>
</div>
</div>
<div class="section" id="image-arithmetic">
<h5>Image arithmetic<a class="headerlink" href="#image-arithmetic" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>OpenCV sets the maximum and minimum as 255 and 0 respectively.</li>
<li>Numpy does the modulo addition.</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># image_arith.py</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">([</span><span class="mi">250</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">([</span><span class="mi">10</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OpenCV 250 + 10: &quot;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span> <span class="c1"># 250+10 = 260 =&gt; 255</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Numpy 250 + 10: &quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>          <span class="c1"># 250+10 = 260 % 256 = 4</span>


<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial pixel at [50, 50]</span><span class="se">\t</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">new_pixel</span> <span class="o">=</span>  <span class="mi">90</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add/subtract 90&quot;</span><span class="p">)</span>

<span class="n">opencv_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OpenCV addition pixel at [50, 50]</span><span class="se">\t</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;OpenCV add&quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">)</span>

<span class="n">opencv_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OpenCV subtract pixel at [50, 50]</span><span class="se">\t</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;OpenCV subtract&quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">)</span>


<span class="n">numpy_img</span> <span class="o">=</span> <span class="n">img</span> <span class="o">+</span> <span class="n">new_pixel</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Numpy addition pixel at [50, 50]</span><span class="se">\t</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Numpy add&quot;</span><span class="p">,</span> <span class="n">numpy_img</span><span class="p">)</span>

<span class="n">numpy_img</span> <span class="o">=</span> <span class="n">img</span> <span class="o">-</span> <span class="n">new_pixel</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Numpy subtract pixel at [50, 50]</span><span class="se">\t</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="n">opencv_img</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Numpy subtract&quot;</span><span class="p">,</span> <span class="n">numpy_img</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output will be as below,</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>OpenCV 250 + 10:  [[255]]
Numpy 250 + 10:  [4]
Initial pixel at [50, 50]   :  [  1 255   0]
Add/subtract 90
OpenCV addition pixel at [50, 50]   :  [ 91 255  90]
OpenCV subtract pixel at [50, 50]   :  [  0 165   0]
Numpy addition pixel at [50, 50]    :  [  0 165   0]
Numpy subtract pixel at [50, 50]    :  [  0 165   0]
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py5"><span class="std std-numref">Fig. 1.5</span></a>,</li>
</ul>
<div class="figure" id="id5">
<span id="fig-py5"></span><a class="reference internal image-reference" href="_images/Screenshot_51.jpg"><img alt="_images/Screenshot_51.jpg" src="_images/Screenshot_51.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Image arithmetic</span></p>
</div>
</div>
<div class="section" id="threshold">
<h5>Threshold<a class="headerlink" href="#threshold" title="Permalink to this headline">¶</a></h5>
<p>For every pixel, the same threshold value is applied. If the pixel value is smaller than the threshold, it is set to 0, otherwise it is set to a maximum value.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># threshold_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/rose.jpg&quot;</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Rose&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>

<span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">thresh</span><span class="p">)</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Threshold Binary&quot;</span><span class="p">,</span> <span class="n">thresh</span><span class="p">)</span>


<span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">thresh</span><span class="p">)</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Threshold Binary Inverse&quot;</span><span class="p">,</span> <span class="n">thresh</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py6"><span class="std std-numref">Fig. 1.6</span></a>,</li>
</ul>
<div class="figure" id="id6">
<span id="fig-py6"></span><a class="reference internal image-reference" href="_images/Screenshot_61.jpg"><img alt="_images/Screenshot_61.jpg" src="_images/Screenshot_61.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Threshold</span></p>
</div>
</div>
</div>
<div class="section" id="geometric-transformations">
<h4>Geometric Transformations<a class="headerlink" href="#geometric-transformations" title="Permalink to this headline">¶</a></h4>
<div class="section" id="scaling">
<h5>Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h5>
<p>Scaling is just resizing of the image. OpenCV comes with a function cv2.resize() for this purpose.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># scale_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># scale by 0.5 in both x and y direction</span>
<span class="n">scale_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="n">interpolation</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_CUBIC</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Resize Shapes&quot;</span><span class="p">,</span> <span class="n">scale_img</span><span class="p">)</span> <span class="c1"># display image</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py7"><span class="std std-numref">Fig. 1.7</span></a>,</li>
</ul>
<div class="figure" id="id7">
<span id="fig-py7"></span><a class="reference internal image-reference" href="_images/Screenshot_71.jpg"><img alt="_images/Screenshot_71.jpg" src="_images/Screenshot_71.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Resize or scaling</span></p>
</div>
</div>
<div class="section" id="flip">
<h5>Flip<a class="headerlink" href="#flip" title="Permalink to this headline">¶</a></h5>
<p>Three types of flips are possible,</p>
<ul class="simple">
<li>0 : Horizontal flip</li>
<li>1 : Vertical flip</li>
<li>-1 : Both horizontal and vertical flip</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># flip_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># flip horizontal</span>
<span class="n">flip_horizontal</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Horizontal Flip&quot;</span><span class="p">,</span> <span class="n">flip_horizontal</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># flip vertical</span>
<span class="n">flip_vertical</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Vertical Flip&quot;</span><span class="p">,</span> <span class="n">flip_vertical</span><span class="p">)</span> <span class="c1"># display image</span>

<span class="c1"># flip vertical and horizontal both</span>
<span class="n">flip_both</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Horizontal and Vertical Flip&quot;</span><span class="p">,</span> <span class="n">flip_both</span><span class="p">)</span> <span class="c1"># display image</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py8"><span class="std std-numref">Fig. 1.8</span></a>,</li>
</ul>
<div class="figure" id="id8">
<span id="fig-py8"></span><a class="reference internal image-reference" href="_images/Screenshot_81.jpg"><img alt="_images/Screenshot_81.jpg" src="_images/Screenshot_81.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Flip</span></p>
</div>
</div>
<div class="section" id="translation">
<h5>Translation<a class="headerlink" href="#translation" title="Permalink to this headline">¶</a></h5>
<p>Translation is the shifting of object’s location.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># translate_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># translation matrix is defined as [1 0 t_x; 0 1 t_y]</span>
<span class="c1"># traslate/shift by t_x and t_y respectively</span>

<span class="c1"># shift by 30 (right) and 50 (down) in x and y direction respectively</span>
<span class="c1"># similarly -30 for left and -50 for upward shift</span>
<span class="n">shift_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>


<span class="c1">####### Now perform shift and rotate operation</span>
<span class="n">shift_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">shift_matrix</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shifted Down and Right&quot;</span><span class="p">,</span> <span class="n">shift_img</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py9"><span class="std std-numref">Fig. 1.9</span></a>,</li>
</ul>
<div class="figure" id="id9">
<span id="fig-py9"></span><a class="reference internal image-reference" href="_images/Screenshot_91.jpg"><img alt="_images/Screenshot_91.jpg" src="_images/Screenshot_91.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Translation</span></p>
</div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># shift by -30 and -50 in x and y direction respectively</span>
<span class="n">shift_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="rotation">
<h5>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>We need to define the rotation angle along with a point for rotation.</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># rotate_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>


<span class="c1"># first define the point of rotation, e.g. (w/2, h/2) i.e. center of the image</span>
<span class="p">(</span><span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># now define rotation matrix with 45 degree of rotation</span>
<span class="n">rotation_matrix</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">((</span><span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">),</span> <span class="mi">45</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># rotate and plot the image</span>
<span class="n">rotated</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">rotation_matrix</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Rotated by 45 Degrees&quot;</span><span class="p">,</span> <span class="n">rotated</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py10"><span class="std std-numref">Fig. 1.10</span></a>,</li>
</ul>
<div class="figure" id="id10">
<span id="fig-py10"></span><a class="reference internal image-reference" href="_images/Screenshot_101.jpg"><img alt="_images/Screenshot_101.jpg" src="_images/Screenshot_101.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Rotation</span></p>
</div>
</div>
</div>
<div class="section" id="drawing">
<h4>Drawing<a class="headerlink" href="#drawing" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>In this section, lines, rectangle, circle and ellipse are drawn using OpenCV.</li>
</ul>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># drawing_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/shapes.jpg&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># height and width of image</span>

<span class="c1"># draw blue horizontal and vertical lines at the center of figure</span>
<span class="c1"># initial and final point are required to draw line</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">img</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># horizontal line</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">img</span><span class="p">,(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># vertical line</span>

<span class="c1"># draw rectangle</span>
<span class="c1"># top-left corner (5, 10) and bottom-right corner (200, 170) of rectangle</span>
<span class="c1"># points are calculated manually</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">170</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">250</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>


<span class="c1"># draw circle</span>
<span class="c1"># center coordinates (w//2, h//2) and radius (50) are</span>
<span class="c1"># required to to draw circle. 10 is the line width</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="mi">50</span> <span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># black</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># -1 : filled circle</span>


<span class="c1"># draw ellipse</span>
<span class="c1"># center: (w//2, h//2)</span>
<span class="c1"># (major axis, minor axis): (100,50)</span>
<span class="c1"># direction of rotation: 0;  where 0 : anticlockwise, 1: clockwise</span>
<span class="c1"># start angle and end angle: 0, 360</span>
<span class="c1"># color: (0, 255, 0)</span>
<span class="c1"># width: 5 (-1 for filled)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span> <span class="c1"># display image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py11"><span class="std std-numref">Fig. 1.11</span></a>,</li>
</ul>
<div class="figure" id="id11">
<span id="fig-py11"></span><a class="reference internal image-reference" href="_images/Screenshot_112.jpg"><img alt="_images/Screenshot_112.jpg" src="_images/Screenshot_112.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Drawing</span></p>
</div>
</div>
<div class="section" id="bitwise-operation">
<h4>Bitwise operation<a class="headerlink" href="#bitwise-operation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># bitwise_img.py</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>


<span class="c1"># create and display frame of size 300</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span><span class="p">)</span>
<span class="c1"># display empty frame</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Frame&quot;</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">)</span>


<span class="c1"># draw white rectangle</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">rectangle</span><span class="p">,</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">280</span><span class="p">,</span> <span class="mi">280</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Rectangle&quot;</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">)</span>


<span class="c1"># create rectangular frame of size 300x300 with name circle</span>
<span class="n">circle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span><span class="p">)</span>
<span class="c1"># draw circle in rectangular frame</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Circle&quot;</span><span class="p">,</span> <span class="n">circle</span><span class="p">)</span>


<span class="n">and_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;And&quot;</span><span class="p">,</span> <span class="n">and_img</span><span class="p">)</span>



<span class="c1"># another example</span>
<span class="n">rect1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span><span class="p">)</span>
<span class="n">rect2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span><span class="p">)</span>

<span class="n">rect1</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;rect1&quot;</span><span class="p">,</span> <span class="n">rect1</span><span class="p">);</span>
<span class="n">rect2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">rect2</span><span class="p">,</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;rect2&quot;</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;AND&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_or</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;OR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_xor</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;XOR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_not</span><span class="p">(</span><span class="n">rect2</span><span class="p">);</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;rect2 NOT&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py12"><span class="std std-numref">Fig. 1.12</span></a>,</li>
</ul>
<div class="figure" id="id12">
<span id="fig-py12"></span><a class="reference internal image-reference" href="_images/Screenshot_122.jpg"><img alt="_images/Screenshot_122.jpg" src="_images/Screenshot_122.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Bitwise operation</span></p>
</div>
</div>
<div class="section" id="masking">
<h4>Masking<a class="headerlink" href="#masking" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># mask_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># Load two images</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;images/shapes.jpg&#39;</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>


<span class="c1"># create rectangular frame of size 300x300 with name circle</span>
<span class="n">circle_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint8&quot;</span><span class="p">)</span><span class="c1"># draw circle in rectangular frame</span>

<span class="c1"># create a circle at (315, 265) to mask the Yellow circle</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">circle_mask</span><span class="p">,</span> <span class="p">(</span><span class="mi">315</span><span class="p">,</span> <span class="mi">265</span><span class="p">),</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Circle&quot;</span><span class="p">,</span> <span class="n">circle_mask</span><span class="p">)</span>

<span class="c1"># mask the Yellow circle</span>
<span class="n">masked_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">circle_mask</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Masked image&quot;</span><span class="p">,</span> <span class="n">masked_img</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py13"><span class="std std-numref">Fig. 1.13</span></a>,</li>
</ul>
<div class="figure" id="id13">
<span id="fig-py13"></span><a class="reference internal image-reference" href="_images/Screenshot_131.jpg"><img alt="_images/Screenshot_131.jpg" src="_images/Screenshot_131.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Masking</span></p>
</div>
</div>
<div class="section" id="edge-detection">
<h4>Edge detection<a class="headerlink" href="#edge-detection" title="Permalink to this headline">¶</a></h4>
<div class="section" id="sobel-edge-detection">
<h5>Sobel edge detection<a class="headerlink" href="#sobel-edge-detection" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># sobel_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/lego.jpg&quot;</span><span class="p">)</span>
<span class="n">gray_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Lego&quot;</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">)</span>

<span class="c1"># compute gradients along the X and Y axis, respectively</span>
<span class="n">gX</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">CV_64F</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">gY</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">CV_64F</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1">#gX value after sobel conversion -52.0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gX value after sobel conversion&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>

<span class="c1"># gX and gY are decimal number with +/- values</span>
<span class="c1"># change these values to +ve integer format</span>
<span class="n">gX</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gX</span><span class="p">)</span>
<span class="c1"># gX value after Absolute scaling 52</span>
<span class="n">gY</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gX value after Absolute scaling&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>

<span class="c1"># combine the sobel X and Y in single image with equal amount</span>
<span class="n">sobelCombined</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">addWeighted</span><span class="p">(</span><span class="n">gX</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">gY</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># show the output images</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Sobel X&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Sobel Y&quot;</span><span class="p">,</span> <span class="n">gY</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Sobel Combined&quot;</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py14"><span class="std std-numref">Fig. 1.14</span></a>,</li>
</ul>
<div class="figure" id="id14">
<span id="fig-py14"></span><a class="reference internal image-reference" href="_images/Screenshot_142.jpg"><img alt="_images/Screenshot_142.jpg" src="_images/Screenshot_142.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Sobel edge detection</span></p>
</div>
</div>
<div class="section" id="canny-edge-detection">
<h5>Canny edge detection<a class="headerlink" href="#canny-edge-detection" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># canny_img.py</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># read image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;images/lego.jpg&quot;</span><span class="p">)</span>
<span class="n">gray_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Lego&quot;</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">)</span>

<span class="c1"># canny edge detection</span>
<span class="c1"># choice depends based on data</span>
<span class="n">canny_wide</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="c1"># over detection</span>
<span class="n">canny_medium</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span> <span class="c1"># good detection</span>
<span class="n">canny_narrow</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span> <span class="c1"># missing detection</span>

<span class="c1"># show the output images</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Canny (10, 200)&quot;</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Canny (50, 150)&quot;</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Canny (200, 200)&quot;</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">)</span>


<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-py15"><span class="std std-numref">Fig. 1.15</span></a>,</li>
</ul>
<div class="figure" id="id15">
<span id="fig-py15"></span><a class="reference internal image-reference" href="_images/Screenshot_152.jpg"><img alt="_images/Screenshot_152.jpg" src="_images/Screenshot_152.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Canny edge detection</span></p>
</div>
</div>
</div>
</div>
</div>
<span id="document-opencvcpp/basics"></span><div class="section" id="opencv-with-c">
<h2>OpenCV with C++<a class="headerlink" href="#opencv-with-c" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opencv-basics">
<h3>OpenCV Basics<a class="headerlink" href="#opencv-basics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>In this section, the procedure to run the C++ code using OpenCV library is shown. Here, “Hello OpenCV” is printed on the screen. Aim is to validate the OpenCV installation and usage therefore the opencv.hpp is included in the code but not used in this example.</p>
<ul class="simple">
<li>First create the “Hello OpenCV” code as below,</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// HelloOpenCV.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello OpenCV</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Now, run the code as below,</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ g++ HelloOpenCV.cpp -o HelloOpenCV <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span>
$ ./HelloOpenCV
</pre></div>
</div>
<div class="section" id="cmakelists-txt">
<h5>CMakeLists.txt<a class="headerlink" href="#cmakelists-txt" title="Permalink to this headline">¶</a></h5>
<p>ALso, we can crate a CMakeLists.txt file to run the code as below,</p>
<ul class="simple">
<li>Next, we need to create one CMakeLists.txt file which will included the “OpenCV” library to the path and generate the executable file for the above code,</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># CMakeLists.txt

cmake_minimum_required(VERSION 2.8)
project( HelloOpenCVExample )
find_package( OpenCV REQUIRED )
include_directories( ${OpenCV_INCLUDE_DIRS} )
add_executable( HelloOpenCV HelloOpenCV.cpp )
target_link_libraries( HelloOpenCV ${OpenCV_LIBS} )
</pre></div>
</div>
<ul class="simple">
<li>Now, generate the executable as below,</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ cmake .
$ make
$ ./HelloOpenCV
Hello OpenCV
</pre></div>
</div>
</div>
</div>
<div class="section" id="load-image">
<h4>Load image<a class="headerlink" href="#load-image" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">//  DisplayImage.cpp</span>

<span class="c1">// g++ DisplayImage.cpp -o DisplayImage `pkg-config --libs opencv`</span>

<span class="c1">// Display the image</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">image</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;./OpenCV.png&quot;</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Display Image&quot;</span><span class="p">,</span> <span class="n">image</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-cpp1"><span class="std std-numref">Fig. 2.1</span></a>,</li>
</ul>
<div class="figure" id="id1">
<span id="fig-cpp1"></span><a class="reference internal image-reference" href="_images/Screenshot_1.jpg"><img alt="_images/Screenshot_1.jpg" src="_images/Screenshot_1.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Shapes</span></p>
</div>
</div>
<div class="section" id="load-video">
<h4>Load Video<a class="headerlink" href="#load-video" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// DisplayVideo.cpp</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">frame</span><span class="p">;</span>  <span class="c1">// variable frame of datatype Matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">VideoCapture</span> <span class="n">capture</span><span class="p">;</span>
    <span class="n">capture</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;versal.mp4&quot;</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(;;){</span>
        <span class="n">capture</span><span class="o">&gt;&gt;</span><span class="n">frame</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">frame</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Window&quot;</span><span class="p">,</span> <span class="n">frame</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$  g++ DisplayVideo.cpp -o DisplayVideo <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span>
$ ./DisplayVideo
</pre></div>
</div>
</div>
<div class="section" id="basic-operations-on-images">
<h4>Basic operations on images<a class="headerlink" href="#basic-operations-on-images" title="Permalink to this headline">¶</a></h4>
<div class="section" id="accessing-and-modifying-pixel">
<h5>Accessing and modifying pixel<a class="headerlink" href="#accessing-and-modifying-pixel" title="Permalink to this headline">¶</a></h5>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// access_modify_pixel.py</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>

    <span class="c1">// For color image i.e. 3 channel</span>
    <span class="n">Vec3b</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec3b</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;BGR &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">intensity</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

    <span class="c1">// print individual component [B G R]</span>
    <span class="kt">int</span> <span class="n">blue</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;blue &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">blue</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">green</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;green &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">red</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;red &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>


    <span class="c1">// modify pixel</span>
    <span class="n">img</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec3b</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span>
    <span class="c1">// For color image i.e. 3 channel</span>
    <span class="n">intensity</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec3b</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;BGR after modification &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">intensity</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Display Image&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ access_modify_pixel.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-cpp2"><span class="std std-numref">Fig. 2.2</span></a>,</li>
</ul>
<div class="figure" id="id2">
<span id="fig-cpp2"></span><a class="reference internal image-reference" href="_images/Screenshot_2.jpg"><img alt="_images/Screenshot_2.jpg" src="_images/Screenshot_2.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Red dot at (10 10)</span></p>
</div>
</div>
<div class="section" id="split-and-merge">
<h5>Split and Merge<a class="headerlink" href="#split-and-merge" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>In this section, the color image is split and plotted into R, G and B color. Also, these R, G and B are merged together to get the original image.</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// split_merge.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">sum_rgb</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Display Image&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// three channel to store b, g, r</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rgbchannel</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

    <span class="c1">// split image</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">split</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">rgbchannel</span><span class="p">);</span>

    <span class="c1">// plot individual component</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">&quot;Blue&quot;</span><span class="p">,</span><span class="n">CV_WINDOW_AUTOSIZE</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Red&quot;</span><span class="p">,</span> <span class="n">rgbchannel</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">&quot;Green&quot;</span><span class="p">,</span><span class="n">CV_WINDOW_AUTOSIZE</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Green&quot;</span><span class="p">,</span> <span class="n">rgbchannel</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">&quot;Red&quot;</span><span class="p">,</span><span class="n">CV_WINDOW_AUTOSIZE</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Blue&quot;</span><span class="p">,</span> <span class="n">rgbchannel</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>

    <span class="c1">// merge : (input, num_of_channel, output)</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">merge</span><span class="p">(</span><span class="n">rgbchannel</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sum_rgb</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Merged&quot;</span><span class="p">,</span> <span class="n">sum_rgb</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ split_merge.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-cpp3"><span class="std std-numref">Fig. 2.3</span></a>,</li>
</ul>
<div class="figure" id="id3">
<span id="fig-cpp3"></span><a class="reference internal image-reference" href="_images/Screenshot_3.jpg"><img alt="_images/Screenshot_3.jpg" src="_images/Screenshot_3.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Split and merge</span></p>
</div>
</div>
<div class="section" id="crop-image">
<h5>Crop image<a class="headerlink" href="#crop-image" title="Permalink to this headline">¶</a></h5>
<p>In this section, we will crop the image in 4 equal part and change the color of 2 parts.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// crop_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">top_left</span><span class="p">,</span> <span class="n">top_right</span><span class="p">,</span> <span class="n">bottom_left</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">;</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;(width, height)&quot;</span><span class="o">&lt;&lt;</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Width : &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">img</span><span class="p">.</span><span class="n">cols</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Height: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">img</span><span class="p">.</span><span class="n">rows</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="n">cX</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">cY</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;(cX, cY) = (&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">cX</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;, &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">cY</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;)&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="c1">// (start_x, start_y, len_x, len_y)</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Rect</span> <span class="n">top_left_roi</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">);</span>
    <span class="n">top_left</span> <span class="o">=</span> <span class="n">img</span><span class="p">(</span><span class="n">top_left_roi</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Top left&quot;</span><span class="p">,</span> <span class="n">top_left</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Rect</span> <span class="n">top_right_roi</span><span class="p">(</span><span class="n">cX</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">);</span>
    <span class="n">top_right</span> <span class="o">=</span> <span class="n">img</span><span class="p">(</span><span class="n">top_right_roi</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Top right&quot;</span><span class="p">,</span> <span class="n">top_right</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Rect</span> <span class="n">bottom_left_roi</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cY</span><span class="p">,</span> <span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">);</span>
    <span class="n">bottom_left</span> <span class="o">=</span> <span class="n">img</span><span class="p">(</span><span class="n">bottom_left_roi</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Bottom left&quot;</span><span class="p">,</span> <span class="n">bottom_left</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Rect</span> <span class="n">bottom_right_roi</span><span class="p">(</span><span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">,</span> <span class="n">cX</span><span class="p">,</span> <span class="n">cY</span><span class="p">);</span>
    <span class="n">bottom_right</span> <span class="o">=</span> <span class="n">img</span><span class="p">(</span><span class="n">bottom_right_roi</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Bottom right&quot;</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">);</span>

    <span class="c1">// or use above or below, both have same results</span>
    <span class="c1">// // (start_x, start_y, len_x, len_y)</span>
    <span class="c1">// cv::Rect top_left_roi(0, 0, cX, cY);</span>
    <span class="c1">// top_left = img(top_left_roi);</span>
    <span class="c1">// cv::imshow(&quot;Top left&quot;, top_left);</span>

    <span class="c1">// cv::Rect top_right_roi(cX, 0, w - cX, cY);</span>
    <span class="c1">// top_right = img(top_right_roi);</span>
    <span class="c1">// cv::imshow(&quot;Top right&quot;, top_right);</span>

    <span class="c1">// cv::Rect bottom_left_roi(0, cY, cX, h - cY);</span>
    <span class="c1">// bottom_left = img(bottom_left_roi);</span>
    <span class="c1">// cv::imshow(&quot;Bottom left&quot;, bottom_left);</span>

    <span class="c1">// cv::Rect bottom_right_roi(cX, cY, w - cX, h - cY);</span>
    <span class="c1">// bottom_right = img(bottom_right_roi);</span>
    <span class="c1">// cv::imshow(&quot;Bottom right&quot;, bottom_right);</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ crop_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output is shown <a class="reference internal" href="#fig-cpp4"><span class="std std-numref">Fig. 2.4</span></a>,</li>
</ul>
<div class="figure" id="id4">
<span id="fig-cpp4"></span><a class="reference internal image-reference" href="_images/Screenshot_4.jpg"><img alt="_images/Screenshot_4.jpg" src="_images/Screenshot_4.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Crop image</span></p>
</div>
</div>
<div class="section" id="image-arithmetic">
<h5>Image arithmetic<a class="headerlink" href="#image-arithmetic" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>OpenCV sets the maximum and minimum as 255 and 0 respectively.</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// image_arith.cpp</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// using namespace cv;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>


    <span class="c1">// ############# Various method to define Matrix #################</span>

    <span class="c1">// intialize matrix with contant value 80</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">matB</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">80</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;matB = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matB</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">// zero matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">matZeros</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;matZeros = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matZeros</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">// eye matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">matEye</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;matEye = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matEye</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">// ones matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">matOnes</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_32F</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;matOnes = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matOnes</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="kt">float</span> <span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">221</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">210</span> <span class="p">};</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_32F</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">B</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">80</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;B = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">B</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">// convert format</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">A_convert</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span>
    <span class="n">A</span><span class="p">.</span><span class="n">convertTo</span><span class="p">(</span><span class="n">A_convert</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A_convert = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">A_convert</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="c1">// define 3x3 matrix</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">matOut</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span>

    <span class="c1">// ######################## Add/subtract ####################################</span>

    <span class="c1">// cv::add(A_convert, B, matOut) is not possible due to different data type</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="n">A_convert</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">matOut</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A_convert + B = </span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matOut</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">// subtract</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">subtract</span><span class="p">(</span><span class="n">A_convert</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">matOut</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;A_convert - B = </span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">matOut</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="c1">// ############ Image addtion</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">add_img</span><span class="p">,</span> <span class="n">sub_img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// define new mat with same size as img</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">new_pixel</span> <span class="o">=</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">ones</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">img</span><span class="p">.</span><span class="n">type</span><span class="p">());</span>

    <span class="c1">// add and show</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">,</span> <span class="n">add_img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Add image&quot;</span><span class="p">,</span> <span class="n">add_img</span><span class="p">);</span>

    <span class="c1">// subtract and show</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">subtract</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">,</span> <span class="n">sub_img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Subtract image&quot;</span><span class="p">,</span> <span class="n">sub_img</span><span class="p">);</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ image_arith.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output will be as below,</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>OpenCV 250 + 10:  [[255]]
Numpy 250 + 10:  [4]
Initial pixel at [50, 50]   :  [  1 255   0]
Add/subtract 90
OpenCV addition pixel at [50, 50]   :  [ 91 255  90]
OpenCV subtract pixel at [50, 50]   :  [  0 165   0]
Numpy addition pixel at [50, 50]    :  [  0 165   0]
Numpy subtract pixel at [50, 50]    :  [  0 165   0]
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp5"><span class="std std-numref">Fig. 2.5</span></a>,</li>
</ul>
<div class="figure" id="id5">
<span id="fig-cpp5"></span><a class="reference internal image-reference" href="_images/Screenshot_5.jpg"><img alt="_images/Screenshot_5.jpg" src="_images/Screenshot_5.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Image arithmetic</span></p>
</div>
</div>
<div class="section" id="threshold">
<h5>Threshold<a class="headerlink" href="#threshold" title="Permalink to this headline">¶</a></h5>
<p>For every pixel, the same threshold value is applied. If the pixel value is smaller than the threshold, it is set to 0, otherwise it is set to a maximum value.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// threshold_img.cpp</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">thresh_img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/rose.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Rose&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">threshold</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">thresh_img</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">THRESH_BINARY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Threshold Binary&quot;</span><span class="p">,</span> <span class="n">thresh_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">threshold</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">thresh_img</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">THRESH_BINARY_INV</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Threshold Binary Inverse&quot;</span><span class="p">,</span> <span class="n">thresh_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp6"><span class="std std-numref">Fig. 2.6</span></a>,</li>
</ul>
<div class="figure" id="id6">
<span id="fig-cpp6"></span><a class="reference internal image-reference" href="_images/Screenshot_6.jpg"><img alt="_images/Screenshot_6.jpg" src="_images/Screenshot_6.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Threshold</span></p>
</div>
</div>
</div>
<div class="section" id="geometric-transformations">
<h4>Geometric Transformations<a class="headerlink" href="#geometric-transformations" title="Permalink to this headline">¶</a></h4>
<div class="section" id="scaling">
<h5>Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h5>
<p>Scaling is just resizing of the image. OpenCV comes with a function cv2.resize() for this purpose.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// scale_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">resize_img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">resize_img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">INTER_CUBIC</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Resize Shapes&quot;</span><span class="p">,</span> <span class="n">resize_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ scale_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp7"><span class="std std-numref">Fig. 2.7</span></a>,</li>
</ul>
<div class="figure" id="id7">
<span id="fig-cpp7"></span><a class="reference internal image-reference" href="_images/Screenshot_7.jpg"><img alt="_images/Screenshot_7.jpg" src="_images/Screenshot_7.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Resize or scaling</span></p>
</div>
</div>
<div class="section" id="flip">
<h5>Flip<a class="headerlink" href="#flip" title="Permalink to this headline">¶</a></h5>
<p>Three types of flips are possible,</p>
<ul class="simple">
<li>0 : Horizontal flip</li>
<li>1 : Vertical flip</li>
<li>-1 : Both horizontal and vertical flip</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// flip_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">flip_horizontal</span><span class="p">,</span> <span class="n">flip_vertical</span><span class="p">,</span> <span class="n">flip_both</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// flip horizontal</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">flip_horizontal</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Horizontal Flip&quot;</span><span class="p">,</span> <span class="n">flip_horizontal</span><span class="p">);</span> <span class="c1">// display image</span>

    <span class="c1">// flip vertical</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">flip_vertical</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Vertical Flip&quot;</span><span class="p">,</span> <span class="n">flip_vertical</span><span class="p">);</span> <span class="c1">// display image</span>

    <span class="c1">// flip vertical and horizontal both</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">flip_both</span><span class="p">,</span> <span class="mi">-1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Horizontal and Vertical Flip&quot;</span><span class="p">,</span> <span class="n">flip_both</span><span class="p">);</span> <span class="c1">// display image</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ flip_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp8"><span class="std std-numref">Fig. 2.8</span></a>,</li>
</ul>
<div class="figure" id="id8">
<span id="fig-cpp8"></span><a class="reference internal image-reference" href="_images/Screenshot_8.jpg"><img alt="_images/Screenshot_8.jpg" src="_images/Screenshot_8.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Flip</span></p>
</div>
</div>
<div class="section" id="translation">
<h5>Translation<a class="headerlink" href="#translation" title="Permalink to this headline">¶</a></h5>
<p>Translation is the shifting of object’s location.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// translate_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">shift_img</span><span class="p">;</span>  <span class="c1">// variable image of datatype Matrix</span>

    <span class="c1">// create shift matrix</span>
    <span class="kt">float</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span> <span class="p">};</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">shift_matrix_float</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_32F</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">shift_matrix_float</span><span class="p">;</span>

    <span class="c1">// convert to CV_64F format</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">shift_matrix</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">);</span>
    <span class="n">shift_matrix_float</span><span class="p">.</span><span class="n">convertTo</span><span class="p">(</span><span class="n">shift_matrix</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">);</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// flip horizontal</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">shift_img</span><span class="p">,</span> <span class="n">shift_matrix</span><span class="p">,</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Translate Flip&quot;</span><span class="p">,</span> <span class="n">shift_img</span><span class="p">);</span> <span class="c1">// display image</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ translate_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp9"><span class="std std-numref">Fig. 2.9</span></a>,</li>
</ul>
<div class="figure" id="id9">
<span id="fig-cpp9"></span><a class="reference internal image-reference" href="_images/Screenshot_9.jpg"><img alt="_images/Screenshot_9.jpg" src="_images/Screenshot_9.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Translation</span></p>
</div>
</div>
<div class="section" id="rotation">
<h5>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>We need to define the rotation angle along with a point for rotation.</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// rotate_img.cpp</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">rotate_matrix</span><span class="p">,</span> <span class="n">rotated</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="c1">// rotation points</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Point2f</span> <span class="n">rotation_center</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>

    <span class="n">rotate_matrix</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">getRotationMatrix2D</span><span class="p">(</span><span class="n">rotation_center</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">rotated</span><span class="p">,</span> <span class="n">rotate_matrix</span><span class="p">,</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Rotated by 45 Degrees&quot;</span><span class="p">,</span> <span class="n">rotated</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ rotate_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp10"><span class="std std-numref">Fig. 2.10</span></a>,</li>
</ul>
<div class="figure" id="id10">
<span id="fig-cpp10"></span><a class="reference internal image-reference" href="_images/Screenshot_10.jpg"><img alt="_images/Screenshot_10.jpg" src="_images/Screenshot_10.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Rotation</span></p>
</div>
</div>
</div>
<div class="section" id="drawing">
<h4>Drawing<a class="headerlink" href="#drawing" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>In this section, lines, rectangle, circle and ellipse are drawn using OpenCV.</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// drawing_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">rotate_matrix</span><span class="p">,</span> <span class="n">rotated</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="c1">// draw horizontal line</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">line</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span> <span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>
    <span class="c1">// draw vertical line</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">line</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>

    <span class="c1">// draw rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">rectangle</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">170</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>

    <span class="c1">// draw circle</span>
    <span class="c1">// center coordinates (w//2, h//2) and radius (50) are</span>
    <span class="c1">// required to to draw circle. 10 is the line width</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">// black</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">-1</span><span class="p">);</span> <span class="c1">// -1 : filled circle</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ drawing_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp11"><span class="std std-numref">Fig. 2.11</span></a>,</li>
</ul>
<div class="figure" id="id11">
<span id="fig-cpp11"></span><a class="reference internal image-reference" href="_images/Screenshot_11.jpg"><img alt="_images/Screenshot_11.jpg" src="_images/Screenshot_11.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Drawing</span></p>
</div>
</div>
<div class="section" id="bitwise-operation">
<h4>Bitwise operation<a class="headerlink" href="#bitwise-operation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// bitwise_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">and_img</span><span class="p">;</span>

    <span class="c1">// create and display frame of size 300 for rectangle and circle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span> <span class="c1">// rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">circle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span> <span class="c1">// circle</span>


    <span class="c1">// draw and show rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">rectangle</span><span class="p">(</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">280</span><span class="p">,</span> <span class="mi">280</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span> <span class="p">),</span> <span class="mi">-1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Rectangle&quot;</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">);</span>

    <span class="c1">// draw and show circle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="mi">150</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="mi">-1</span><span class="p">);</span> <span class="c1">// black</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Circle&quot;</span><span class="p">,</span> <span class="n">circle</span><span class="p">);</span>

    <span class="c1">// bitwise and operation</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">and_img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;And&quot;</span><span class="p">,</span> <span class="n">and_img</span><span class="p">);</span>



    <span class="c1">// another example</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rect1</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span> <span class="n">CV_8UC1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rect2</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span> <span class="n">CV_8UC1</span><span class="p">);</span>


    <span class="n">rect1</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect1&quot;</span><span class="p">,</span> <span class="n">rect1</span><span class="p">);</span>

    <span class="n">rect2</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect2&quot;</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">result</span><span class="p">;</span>

    <span class="n">bitwise_and</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;AND&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_or</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;OR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_xor</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;XOR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_not</span><span class="p">(</span><span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect2 NOT&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ bitwise_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp12"><span class="std std-numref">Fig. 2.12</span></a>,</li>
</ul>
<div class="figure" id="id12">
<span id="fig-cpp12"></span><a class="reference internal image-reference" href="_images/Screenshot_12.jpg"><img alt="_images/Screenshot_12.jpg" src="_images/Screenshot_12.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Bitwise operation</span></p>
</div>
</div>
<div class="section" id="masking">
<h4>Masking<a class="headerlink" href="#masking" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// mask_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">masked_img</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/shapes.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">circle</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">CV_8UC3</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">315</span><span class="p">,</span> <span class="mi">265</span><span class="p">),</span> <span class="mi">90</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">-1</span><span class="p">);</span> <span class="c1">// black</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Circle&quot;</span><span class="p">,</span> <span class="n">circle</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">circle</span><span class="p">,</span> <span class="n">masked_img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Masked image&quot;</span><span class="p">,</span> <span class="n">masked_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ mask_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp13"><span class="std std-numref">Fig. 2.13</span></a>,</li>
</ul>
<div class="figure" id="id13">
<span id="fig-cpp13"></span><a class="reference internal image-reference" href="_images/Screenshot_13.jpg"><img alt="_images/Screenshot_13.jpg" src="_images/Screenshot_13.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Masking</span></p>
</div>
</div>
<div class="section" id="edge-detection">
<h4>Edge detection<a class="headerlink" href="#edge-detection" title="Permalink to this headline">¶</a></h4>
<div class="section" id="sobel-edge-detection">
<h5>Sobel edge detection<a class="headerlink" href="#sobel-edge-detection" title="Permalink to this headline">¶</a></h5>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// sobel_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/lego.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego color&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">COLOR_BGR2GRAY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego &quot;</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">gX</span><span class="p">,</span> <span class="n">gY</span><span class="p">;</span>
    <span class="c1">//  compute gradients along the X and Y axis, respectively</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">gX</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">gY</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="c1">// gX value after sobel conversion -52.0</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;gX value after sobel conversion: &quot;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">gX</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="c1">// gX and gY are decimal number with +/- values</span>
    <span class="c1">// change these values to +ve integer format</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gX</span><span class="p">,</span> <span class="n">gX</span><span class="p">);</span>
    <span class="c1">// gX value after Absolute scaling 52</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gY</span><span class="p">,</span> <span class="n">gY</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;gX value after Absolute scaling: &quot;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">gX</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">sobelCombined</span><span class="p">;</span>
     <span class="n">cv</span><span class="o">::</span><span class="n">addWeighted</span><span class="p">(</span><span class="n">gX</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">gY</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">);</span>

    <span class="c1">// show the output images</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel X&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel Y&quot;</span><span class="p">,</span> <span class="n">gY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel Combined&quot;</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ sobel_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp14"><span class="std std-numref">Fig. 2.14</span></a>,</li>
</ul>
<div class="figure" id="id14">
<span id="fig-cpp14"></span><a class="reference internal image-reference" href="_images/Screenshot_14.jpg"><img alt="_images/Screenshot_14.jpg" src="_images/Screenshot_14.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Sobel edge detection</span></p>
</div>
</div>
<div class="section" id="canny-edge-detection">
<h5>Canny edge detection<a class="headerlink" href="#canny-edge-detection" title="Permalink to this headline">¶</a></h5>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// canny_img.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>

    <span class="c1">// read image</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;images/lego.jpg&quot;</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego color&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">COLOR_BGR2GRAY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego &quot;</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">canny_wide</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>

    <span class="c1">// show the output images</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (10, 200)&quot;</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (50, 150)&quot;</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (200, 250)&quot;</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">);</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g++ canny_img.cpp -o out <span class="sb">`</span>pkg-config --libs opencv<span class="sb">`</span> <span class="o">&amp;&amp;</span> ./out
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-cpp15"><span class="std std-numref">Fig. 2.15</span></a>,</li>
</ul>
<div class="figure" id="id15">
<span id="fig-cpp15"></span><a class="reference internal image-reference" href="_images/Screenshot_15.jpg"><img alt="_images/Screenshot_15.jpg" src="_images/Screenshot_15.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Canny edge detection</span></p>
</div>
</div>
</div>
</div>
</div>
<span id="document-opencvpetalinux/basics"></span><div class="section" id="opencv-with-petalinux">
<h2>OpenCV with petalinux<a class="headerlink" href="#opencv-with-petalinux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opencv-basics">
<h3>OpenCV Basics<a class="headerlink" href="#opencv-basics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="create-petalinux-project">
<h4>Create Petalinux project<a class="headerlink" href="#create-petalinux-project" title="Permalink to this headline">¶</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>activate the petalinux<span class="o">)</span>
$ ts -petalinux <span class="m">2018</span>.2

<span class="o">(</span>download the bsp first, and <span class="k">then</span> use the below <span class="nb">command</span><span class="o">)</span>
$ petalinux-create -t project -n opencvExamples -s /proj/css/meherp/bsp/v2018_2/xilinx-zcu104-v2018.2-final.bsp

$ <span class="nb">cd</span> opencvExamples/


$ petalinux-config -c rootfs
    <span class="o">(</span><span class="k">select</span> following options-&gt; save -&gt; <span class="nb">exit</span><span class="o">)</span>

    Filesystem Packages ---&gt; libs ---&gt; libmali-xlnx ---&gt; <span class="o">[</span>*<span class="o">]</span> libmali-xlnx

    Petalinux Package Groups ---&gt; packagegroup-petalinux-display-debug ---&gt; <span class="o">[</span>*<span class="o">]</span> packagegroup-petalinux-display-debug

    Petalinux Package Groups ---&gt; packagegroup-petalinux-opencv ---&gt; <span class="o">[</span>*<span class="o">]</span> packagegroup-petalinux-opencv

    Petalinux Package Groups ---&gt; packagegroup-petalinux-v4lutils ---&gt; <span class="o">[</span>*<span class="o">]</span> packagegroup-petalinux-v4lutils

    Petalinux Package Groups ---&gt; packagegroup-petalinux-x11 ---&gt; <span class="o">[</span>*<span class="o">]</span> packagegroup-petalinux-x11


$ petalinux-build


<span class="o">(</span>Next, create a petalinux application as below<span class="o">)</span>
$ petalinux-create -t apps -n ocvtest --enable
</pre></div>
</div>
<ul class="simple">
<li>Above will create a default ‘hello world’ app. Now, we need to modify the code for rotating the image by 90 degree. Modify the below files (vi editor is used below)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If there are some error during petalinux-build then recreated the project and remove below line. Then run the petlainux build command,</p>
<div class="last highlight-shell notranslate"><div class="highlight"><pre><span></span>do_compile<span class="o">()</span> <span class="o">{</span>
     oe_runmake
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ vi project-spec/meta-user/recipes-apps/ocvtest/ocvtest.bb
<span class="c1"># (replace the code with below code)</span>

<span class="c1">#</span>
<span class="c1"># This file is the ocvtest recipe.</span>
<span class="c1">#</span>

<span class="nv">SUMMARY</span> <span class="o">=</span> <span class="s2">&quot;Simple ocvtest application&quot;</span>
<span class="nv">SECTION</span> <span class="o">=</span> <span class="s2">&quot;PETALINUX/apps&quot;</span>
<span class="nv">LICENSE</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span>
<span class="nv">LIC_FILES_CHKSUM</span> <span class="o">=</span> <span class="s2">&quot;file://</span><span class="si">${</span><span class="nv">COMMON_LICENSE_DIR</span><span class="si">}</span><span class="s2">/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302&quot;</span>

<span class="nv">SRC_URI</span> <span class="o">=</span> <span class="s2">&quot;file://ocvtest.cpp \</span>
<span class="s2">           file://CMakeLists.txt \</span>
<span class="s2">          &quot;</span>

<span class="nv">S</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">WORKDIR</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nv">DEPENDS</span> <span class="o">+=</span> <span class="s2">&quot;opencv&quot;</span>

inherit pkgconfig cmake

do_compile<span class="o">()</span> <span class="o">{</span>
         oe_runmake
<span class="o">}</span>

do_install<span class="o">()</span> <span class="o">{</span>
         install -d <span class="si">${</span><span class="nv">D</span><span class="si">}${</span><span class="nv">bindir</span><span class="si">}</span>
         install -m <span class="m">0755</span> ocvtest <span class="si">${</span><span class="nv">D</span><span class="si">}${</span><span class="nv">bindir</span><span class="si">}</span>
<span class="o">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Modify CMakeLists.txt</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ vi project-spec/meta-user/recipes-apps/ocvtest/files/CMakeLists.txt
<span class="c1"># (replace the code with below code)</span>


<span class="c1"># cmake needs this line</span>
cmake_minimum_required<span class="o">(</span>VERSION <span class="m">2</span>.8<span class="o">)</span>

add_definitions<span class="o">(</span>-std<span class="o">=</span>c++11 -Werror<span class="o">=</span><span class="k">return</span>-type<span class="o">)</span>

<span class="c1"># Define project name</span>
project<span class="o">(</span>ocvtest<span class="o">)</span>

<span class="c1"># Find OpenCV, you may need to set OpenCV_DIR variable</span>
<span class="c1"># to the absolute path to the directory containing OpenCVConfig.cmake file</span>
<span class="c1"># via the command line or GUI</span>
find_package<span class="o">(</span>OpenCV REQUIRED<span class="o">)</span>

<span class="c1"># If the package has been found, several variables will</span>
<span class="c1"># be set, you can find the full list with descriptions</span>
<span class="c1"># in the OpenCVConfig.cmake file.</span>
<span class="c1"># Print some message showing some of them</span>
message<span class="o">(</span>STATUS <span class="s2">&quot;OpenCV library status:&quot;</span><span class="o">)</span>
message<span class="o">(</span>STATUS <span class="s2">&quot;    version: </span><span class="si">${</span><span class="nv">OpenCV_VERSION</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
message<span class="o">(</span>STATUS <span class="s2">&quot;    libraries: </span><span class="si">${</span><span class="nv">OpenCV_LIBS</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
message<span class="o">(</span>STATUS <span class="s2">&quot;    include path: </span><span class="si">${</span><span class="nv">OpenCV_INCLUDE_DIRS</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="k">if</span><span class="o">(</span>CMAKE_VERSION VERSION_LESS <span class="s2">&quot;2.8.11&quot;</span><span class="o">)</span>
  <span class="c1"># Add OpenCV headers location to your include paths</span>
  include_directories<span class="o">(</span><span class="si">${</span><span class="nv">OpenCV_INCLUDE_DIRS</span><span class="si">}</span><span class="o">)</span>
endif<span class="o">()</span>


<span class="c1"># Declare the executable target built from your sources</span>
add_executable<span class="o">(</span>ocvtest ocvtest.cpp<span class="o">)</span>

<span class="c1"># Link your application with OpenCV libraries</span>
target_link_libraries<span class="o">(</span>ocvtest <span class="si">${</span><span class="nv">OpenCV_LIBS</span><span class="si">}</span><span class="o">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Modify makefile</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ vi project-spec/meta-user/recipes-apps/ocvtest/files/Makefile
<span class="c1"># replace the code with below code,</span>



<span class="nv">APP</span> <span class="o">=</span> ocvtest

<span class="c1"># Add any other object files to this list below</span>
<span class="nv">APP_OBJS</span> <span class="o">=</span> ocvtest.o

all: build

build: <span class="k">$(</span>APP<span class="k">)</span>

<span class="nv">CXXFLAGS</span> <span class="o">+=</span> <span class="k">$(</span>shell pkg-config --cflags opencv<span class="k">)</span>
<span class="nv">LDFLAGS</span> <span class="o">+=</span> <span class="k">$(</span>shell pkg-config --libs opencv<span class="k">)</span>

<span class="k">$(</span>APP<span class="k">)</span>: <span class="k">$(</span>APP_OBJS<span class="k">)</span>
    <span class="k">$(</span>CXX<span class="k">)</span> <span class="k">$(</span>CXXFLAGS<span class="k">)</span> <span class="k">$(</span>LDFLAGS<span class="k">)</span> -o <span class="nv">$@</span> <span class="k">$(</span>APP_OBJS<span class="k">)</span> <span class="k">$(</span>LDLIBS<span class="k">)</span>

clean:
    rm -f <span class="k">$(</span>APP<span class="k">)</span> *.elf *.gdb *.o
</pre></div>
</div>
</div>
<div class="section" id="write-opencv-code">
<h4>Write OpenCV code<a class="headerlink" href="#write-opencv-code" title="Permalink to this headline">¶</a></h4>
<p>Below OpenCV code is exactly same as ‘OpenCV code for C++ i.e. bitwise_img.cpp’.</p>
<ul class="simple">
<li>Modify  ocvtest.cpp</li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ocvtest.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">){</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">and_img</span><span class="p">;</span>

    <span class="c1">// create and display frame of size 300 for rectangle and circle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span> <span class="c1">// rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">circle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span> <span class="c1">// circle</span>


    <span class="c1">// draw and show rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">rectangle</span><span class="p">(</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">280</span><span class="p">,</span> <span class="mi">280</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span> <span class="p">),</span> <span class="mi">-1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Rectangle&quot;</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">);</span>

    <span class="c1">// draw and show circle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="mi">150</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="mi">-1</span><span class="p">);</span> <span class="c1">// black</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Circle&quot;</span><span class="p">,</span> <span class="n">circle</span><span class="p">);</span>

    <span class="c1">// bitwise and operation</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">and_img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;And&quot;</span><span class="p">,</span> <span class="n">and_img</span><span class="p">);</span>



    <span class="c1">// another example</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rect1</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span> <span class="n">CV_8UC1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">rect2</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span> <span class="n">CV_8UC1</span><span class="p">);</span>


    <span class="n">rect1</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect1&quot;</span><span class="p">,</span> <span class="n">rect1</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/rect1.jpg&quot;</span><span class="p">,</span> <span class="n">rect1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Image written at /home/root/rect1.jpg &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">rect2</span><span class="p">(</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Range</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/rect2.jpg&quot;</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Image written at /home/root/rect2.jpg &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect2&quot;</span><span class="p">,</span> <span class="n">rect2</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">result</span><span class="p">;</span>

    <span class="n">bitwise_and</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/result_and.jpg&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;AND&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_or</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/result_or.jpg&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;OR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_xor</span><span class="p">(</span><span class="n">rect1</span><span class="p">,</span> <span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/result_xor.jpg&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;XOR&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">bitwise_not</span><span class="p">(</span><span class="n">rect2</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/not_rect2.jpg&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rect2 NOT&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;before waitkey&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Build the project,</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$  petalinux-build -c ocvtest
$  petalinux-build
</pre></div>
</div>
</div>
<div class="section" id="run-the-desing-on-fpga">
<h4>Run the desing on FPGA<a class="headerlink" href="#run-the-desing-on-fpga" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>copy image.up and BOOT.bin file in SD card; and boot the FPGA.</li>
<li>In the below commands, 190.122.11.229 is IP address of FPGA.</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>check the IP address of FPGA<span class="o">)</span>
$ ifconfig


<span class="o">(</span>below will connet to FPGA, <span class="m">190</span>.122.11.229 will be shown by above <span class="nb">command</span><span class="o">)</span>
<span class="o">(</span>run from windows machine<span class="o">)</span>
ssh root@190.122.11.155

<span class="o">(</span>run on fpga i.e. after running the above <span class="nb">command</span><span class="o">)</span>
root@xilinx-zcu104-2018_2:~# mount /dev/mmcblk0p1 /mnt/
root@xilinx-zcu104-2018_2:~# ocvtest
    Image written at /home/root/rect1.jpg
    Image written at /home/root/rect2.jpg
    before waitkey

root@xilinx-zcu104-2018_2:~# cp *.jpg /mnt/outimg/
root@xilinx-zcu104-2018_2:~# ls /mnt/outimg/
    not_rect2.jpg   rect2.jpg       result_or.jpg
    rect1.jpg       result_and.jpg  result_xor.jpg



<span class="o">(</span>run windows machine i.e. copy the images from the folder-outimg to <span class="nb">local</span> machine<span class="o">)</span>
<span class="o">(</span>./meher is the location <span class="k">in</span> windows harddisk<span class="o">)</span>


<span class="o">(</span>windows terminal<span class="o">)</span>
<span class="nb">cd</span> C:
scp root@190.122.11.155:/mnt/outimg/*.jpg ./meher/outputs
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-petalinux12"><span class="std std-numref">Fig. 3.1</span></a>,</li>
</ul>
<div class="figure" id="id1">
<span id="fig-petalinux12"></span><a class="reference internal image-reference" href="_images/Screenshot_121.jpg"><img alt="_images/Screenshot_121.jpg" src="_images/Screenshot_121.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Bitwise operation</span></p>
</div>
</div>
<div class="section" id="drawing">
<h4>Drawing<a class="headerlink" href="#drawing" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>In the above code, we did not read the image in the C++ code (we created the square and rectangle using commands only).</li>
<li>We need to modify the code slightly to read the images from the SD card. In the other word, we need to provide the location of the image manually which requires the ‘argv’ in main function. Note that, the same code can be used with OpenCV C++ as well.</li>
<li>In the below code, ocvtest.cpp is modified for drawing images. The C++ code ‘drawing_img.cpp’ is slightly modified to read the images (see highlighted section); and rest of the code is same.</li>
</ul>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// ocvtest.cpp</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="hll"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
</span><span class="hll"><span class="p">{</span>
</span><span class="hll">    <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">&quot; Usage: ./ocvtest &lt;image-name&gt;.jpg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span><span class="hll">        <span class="k">return</span> <span class="mi">-1</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// read image</span>
</span><span class="hll">    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// Check for invalid input</span>
</span><span class="hll">    <span class="k">if</span><span class="p">(</span> <span class="n">img</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="n">cout</span> <span class="o">&lt;&lt;</span>  <span class="s">&quot;Could not open or find the image&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span> <span class="p">;</span>
</span><span class="hll">        <span class="k">return</span> <span class="mi">-1</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span>
    <span class="c1">// img = cv::imread(&quot;images/shapes.jpg&quot;);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span> <span class="c1">// width, height</span>
    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="c1">// draw horizontal line</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">line</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span> <span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>
    <span class="c1">// draw vertical line</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">line</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>

    <span class="c1">// draw rectangle</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">rectangle</span><span class="p">(</span> <span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">170</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span class="p">),</span> <span class="mi">3</span><span class="p">);</span>

    <span class="c1">// draw circle</span>
    <span class="c1">// center coordinates (w//2, h//2) and radius (50) are</span>
    <span class="c1">// required to to draw circle. 10 is the line width</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">// black</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">-1</span><span class="p">);</span> <span class="c1">// -1 : filled circle</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Shapes&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/drawing_img.jpg&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Build the project,</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$  petalinux-build -c ocvtest
$  petalinux-build
</pre></div>
</div>
<ul class="simple">
<li>Copy the image.ub and BOOT.bin file in SD-card and run the design on FPGA</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ssh root@190.122.11.155
mount /dev/mmcblk0p1 /mnt/
ocvtest
    Usage: ./ocvtest &lt;image-name&gt;.jpg
ocvtest /mnt/images/shapes.jpg

cp /home/root/drawing_img.jpg /mnt/outimg/

<span class="o">(</span>windows terminal<span class="o">)</span>
<span class="nb">cd</span> C:
scp root@190.122.11.155:/mnt/outimg/*.jpg ./meher/outputs
</pre></div>
</div>
<ul class="simple">
<li>Output figure is shown <a class="reference internal" href="#fig-petalinux11"><span class="std std-numref">Fig. 3.2</span></a>,</li>
</ul>
<div class="figure" id="id2">
<span id="fig-petalinux11"></span><a class="reference internal image-reference" href="_images/Screenshot_111.jpg"><img alt="_images/Screenshot_111.jpg" src="_images/Screenshot_111.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Drawing</span></p>
</div>
</div>
<div class="section" id="sobel-and-canny-edge-detection">
<h4>Sobel and Canny Edge detection<a class="headerlink" href="#sobel-and-canny-edge-detection" title="Permalink to this headline">¶</a></h4>
<p>In the below code, Sobel edge detection and Canny edge detection algorithm are implemented.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ocvtest.cpp</span>


<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">&quot; Usage: ./rotateimage &lt;image-name&gt;.jpg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">-1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// read image</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

    <span class="c1">// Check for invalid input</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">img</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span>  <span class="s">&quot;Could not open or find the image&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span> <span class="p">;</span>
        <span class="k">return</span> <span class="mi">-1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// img = cv::imread(&quot;images/shapes.jpg&quot;);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego color&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span>
    <span class="c1">// width and height of image</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">width</span><span class="p">;</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">height</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">gray_img</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">COLOR_BGR2GRAY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Lego &quot;</span><span class="p">,</span> <span class="n">gray_img</span><span class="p">);</span>


    <span class="c1">// sobel edge detection</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">gX</span><span class="p">,</span> <span class="n">gY</span><span class="p">;</span>
    <span class="c1">//  compute gradients along the X and Y axis, respectively</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">gX</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Sobel</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">gY</span><span class="p">,</span> <span class="n">CV_64F</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="c1">// gX value after sobel conversion -52.0</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;gX value after sobel conversion: &quot;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">gX</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="c1">// gX and gY are decimal number with +/- values</span>
    <span class="c1">// change these values to +ve integer format</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gX</span><span class="p">,</span> <span class="n">gX</span><span class="p">);</span>
    <span class="c1">// gX value after Absolute scaling 52</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">gY</span><span class="p">,</span> <span class="n">gY</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;gX value after Absolute scaling: &quot;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">gX</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>


    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">sobelCombined</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">addWeighted</span><span class="p">(</span><span class="n">gX</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">gY</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">);</span>

    <span class="c1">// show the output images</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel X&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/Sobel X.jpg&quot;</span><span class="p">,</span> <span class="n">gX</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel Y&quot;</span><span class="p">,</span> <span class="n">gY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/Sobel Y.jpg&quot;</span><span class="p">,</span> <span class="n">gY</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Sobel Combined&quot;</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/Sobel Combined.jpg&quot;</span><span class="p">,</span> <span class="n">sobelCombined</span><span class="p">);</span>


    <span class="c1">// Canny edge detection</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">canny_wide</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">;</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Canny</span><span class="p">(</span><span class="n">gray_img</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>

    <span class="c1">// show the output images</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (10, 200)&quot;</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/canny_wide.jpg&quot;</span><span class="p">,</span> <span class="n">canny_wide</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (50, 150)&quot;</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/canny_medium.jpg&quot;</span><span class="p">,</span> <span class="n">canny_medium</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;Canny (200, 250)&quot;</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;/home/root/canny_narrow.jpg&quot;</span><span class="p">,</span> <span class="n">canny_narrow</span><span class="p">);</span>

    <span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Build the project,</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$  petalinux-build -c ocvtest
$  petalinux-build
</pre></div>
</div>
<ul class="simple">
<li>Copy the image.ub and BOOT.bin file in SD-card and run the design on FPGA</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ssh root@190.122.11.155
mount /dev/mmcblk0p1 /mnt/
ocvtest /mnt/images/lego.jpg

cp /home/root/*.jpg /mnt/outimg/

<span class="o">(</span>windows terminal<span class="o">)</span>
<span class="nb">cd</span> C:
scp root@190.122.11.155:/mnt/outimg/*.jpg ./meher/outputs
</pre></div>
</div>
<ul class="simple">
<li>Output figure for Sobel detection is shown <a class="reference internal" href="#fig-petalinux14"><span class="std std-numref">Fig. 3.3</span></a>,</li>
</ul>
<div class="figure" id="id3">
<span id="fig-petalinux14"></span><a class="reference internal image-reference" href="_images/Screenshot_141.jpg"><img alt="_images/Screenshot_141.jpg" src="_images/Screenshot_141.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Sobel edge detection</span></p>
</div>
<ul class="simple">
<li>Output figure for Canny detection is shown <a class="reference internal" href="#fig-petalinux15"><span class="std std-numref">Fig. 3.4</span></a>,</li>
</ul>
<div class="figure" id="id4">
<span id="fig-petalinux15"></span><a class="reference internal image-reference" href="_images/Screenshot_151.jpg"><img alt="_images/Screenshot_151.jpg" src="_images/Screenshot_151.jpg" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Canny edge detection</span></p>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>
<!-- my settings begins -->
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                <a href="http://pythondsp.readthedocs.io/en/latest/pythondsp/toc.html" class = "btn btn-info float-left"><span class="fa fa-list-alt">  List of tutorials </span></a> 
                <a href="http://pythondsp.readthedocs.io/en/latest/pythondsp/disclaimer.html" class = "btn btn-danger float-right"> Disclaimer <span class="fa fa-bullhorn"></span></a> 
    </div>

            <hr/>

            <div id="disqus_thread"></div>
            <script>

            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '//pythondsp.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>  
        
        <hr/>
<!-- my settings ends -->

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Meher Krishna Patel.
      
        <span class="commit">
          Revision <code>4667db1d</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//opencvguide.readthedocs.io/_/downloads/en/latest/pdf/">pdf</a></dd>
        
          <dd><a href="//opencvguide.readthedocs.io/_/downloads/en/latest/htmlzip/">html</a></dd>
        
          <dd><a href="//opencvguide.readthedocs.io/_/downloads/en/latest/epub/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/opencvguide/?fromdocs=opencvguide">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/opencvguide/?fromdocs=opencvguide">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>